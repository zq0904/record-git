<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>daterangepicker</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/daterangepicker.css">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        /* 防止margin塌陷带来的定位不准确 */
        html,
        body {
            overflow: hidden;
        }

        .father {
            margin: 100px;
        }

        /* 样式修改 */
        #btn {
            text-align: center;
            cursor: pointer;
            width: 200px;
        }
    </style>
</head>

<body>

    <div class="father">
        <input type="text" id="btn" class="form-control" readonly>
    </div>

    <script src="./js/jquery.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/moment.js"></script>
    <script src="./js/daterangepicker.js"></script>
    <script>
        $(function () {
            var nowTime = new Date().format('yyyy-MM-dd');
            $('#btn').val(nowTime + ' - ' + nowTime).daterangepicker({ // 设置初始值并初始化插件
                "startDate": nowTime, // 设置插件的开始时间 不会val在input上
                "endDate": nowTime,
                // showDropdowns: true, // 月份 年份 显示下拉列表
                // showWeekNumbers: true, // 显示一年的第几周
                // timePicker: true, // 具有时间选择
            }).on('apply.daterangepicker', function (ev, picker) { // 点击确定触发 cancel.daterangepicker点击取消触发
                console.log(ev, picker, $(this), picker.startDate.format('YYYY-MM-DD'));
            });
        });
        // 日期格式化
        Date.prototype.format = function (p) { // new Date('时间戳').format('yyyy-MM-dd hh:mm:ss');
            var f = {
                "y+": this.getFullYear(), // + 代表正则中的至少出现一次
                "M+": this.getMonth() + 1,
                "d+": this.getDate(), // 1-31
                "h+": this.getHours(),
                "m+": this.getMinutes(),
                "s+": this.getSeconds(),
                "S": this.getMilliseconds(),
                "H": (this.getHours() % 12), // 12小时制
                "A": (this.getHours() / 12) <= 1 ? "AM" : "PM" // 是上午还是下午
            };
            var format = p;
            for (var key in f) {
                var reg = new RegExp("(" + key + ")"); // + 贪婪模式
                if (reg.test(format)) {
                    var zero = ""; // 重置 转字符串
                    for (var i = 0; i < RegExp.$1.length; i++) { // hhh  000
                        zero += 0;
                    }
                    var replace = RegExp.$1.length == 1 ? f[key] : (zero + f[key]).substr((("" + f[key]).length)); // 模板一位简写模式 模板非一前补0 '0002'.substr(1) 002
                    format = format.replace(RegExp.$1, replace);
                }
            }
            return format;
        };
    </script>
</body>

</html>