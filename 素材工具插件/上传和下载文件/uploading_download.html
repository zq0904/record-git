<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>上传和下载</title>
</head>

<body>
  <p>上传文件</p>
  <form id="form1">
    <input type="text" name="number" value="123">
    <input type="file" name="file" value="选择上传文件" />
    <input id="submit_form" name="0" type="button" value="复合表单提交" />
  </form>
  <p>下载文件</p>
  <button id="download">下载</button>
  <script src="./js/jquery.min.js"></script>
  <script>
    $(function () {
      // 复合表单提交
      $('#submit_form').click(function () {
        var formdata = new FormData($('#form1')[0]);
        $.ajax({
          type: 'POST',
          data: formdata,
          dataType: 'json',
          mimeType: "multipart/form-data",
          url: 'http://blog.csdn.net/u014607184/article/details/52372551',
          processData: false, // 告诉jQuery不要去处理发送的数据
          contentType: false, // 告诉jQuery不要去设置Content-Type请求头
          success: function (data) {
            console.log(data);
          }
        });
      });

      // 下载
      $('#download').click(function () {
        var url = 'https://codeload.github.com/douban/douban-client/legacy.zip/master';
        $e = $("<form>");
        $e.attr({
          'action': url,
          'method': 'get',
          'style': 'display:none'
        });
        $('body').append($e);
        $e.submit();
      });

    });
  </script>
</body>

</html>
